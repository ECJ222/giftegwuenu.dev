<template>
  <button role="button" aria-label="Toggle dark/light" @click.prevent="toggleTheme" class="toggle-theme">
      <svg v-if="darkTheme" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 33"><g transform="translate(0 15.424)"><path d="M3.522,239.3H1.174a1.08,1.08,0,1,0,0,2.152H3.522a1.08,1.08,0,1,0,0-2.152Z" transform="translate(0 -239.304)" fill="#fff"/></g><g transform="translate(31.304 15.424)"><path d="M448.739,239.3h-2.348a1.08,1.08,0,1,0,0,2.152h2.348a1.08,1.08,0,1,0,0-2.152Z" transform="translate(-445.217 -239.304)" fill="#fff"/></g><g transform="translate(16.826 28.696)"><path d="M240.478,445.217a1.128,1.128,0,0,0-1.174,1.076v2.152a1.178,1.178,0,0,0,2.348,0v-2.152A1.128,1.128,0,0,0,240.478,445.217Z" transform="translate(-239.304 -445.217)" fill="#fff"/></g><g transform="translate(16.826)"><path d="M240.478,0A1.128,1.128,0,0,0,239.3,1.076V3.228a1.178,1.178,0,0,0,2.348,0V1.076A1.128,1.128,0,0,0,240.478,0Z" transform="translate(-239.304)" fill="#fff"/></g><g transform="translate(24.065 26.917)"><path d="M345.623,420.029l-1.174-1.864a1.234,1.234,0,0,0-1.6-.394,1.029,1.029,0,0,0-.43,1.47l1.174,1.864a1.234,1.234,0,0,0,1.6.394A1.029,1.029,0,0,0,345.623,420.029Z" transform="translate(-342.259 -417.627)" fill="#fff"/></g><g transform="translate(8.413 2.066)"><path d="M123.014,34.46,121.84,32.6a1.234,1.234,0,0,0-1.6-.394,1.029,1.029,0,0,0-.43,1.47l1.174,1.864a1.234,1.234,0,0,0,1.6.394A1.029,1.029,0,0,0,123.014,34.46Z" transform="translate(-119.65 -32.058)" fill="#fff"/></g><g transform="translate(29.365 22.06)"><path d="M421.423,343.478,419.39,342.4a1.234,1.234,0,0,0-1.6.394,1.029,1.029,0,0,0,.43,1.47l2.033,1.076a1.234,1.234,0,0,0,1.6-.394A1.029,1.029,0,0,0,421.423,343.478Z" transform="translate(-417.629 -342.258)" fill="#fff"/></g><g transform="translate(2.254 7.712)"><path d="M35.854,120.869l-2.033-1.076a1.234,1.234,0,0,0-1.6.394,1.029,1.029,0,0,0,.43,1.47l2.033,1.076a1.234,1.234,0,0,0,1.6-.394A1.029,1.029,0,0,0,35.854,120.869Z" transform="translate(-32.06 -119.649)" fill="#fff"/></g><g transform="translate(29.365 7.712)"><path d="M421.853,120.187a1.234,1.234,0,0,0-1.6-.394l-2.033,1.076a1.029,1.029,0,0,0-.43,1.47,1.234,1.234,0,0,0,1.6.394l2.033-1.076A1.029,1.029,0,0,0,421.853,120.187Z" transform="translate(-417.629 -119.649)" fill="#fff"/></g><g transform="translate(2.254 22.06)"><path d="M36.283,342.8a1.234,1.234,0,0,0-1.6-.394l-2.033,1.076a1.029,1.029,0,0,0-.43,1.47,1.234,1.234,0,0,0,1.6.394l2.033-1.076A1.029,1.029,0,0,0,36.283,342.8Z" transform="translate(-32.059 -342.259)" fill="#fff"/></g><g transform="translate(24.065 2.066)"><path d="M345.194,32.2a1.234,1.234,0,0,0-1.6.394l-1.174,1.864a1.029,1.029,0,0,0,.43,1.47,1.234,1.234,0,0,0,1.6-.394l1.174-1.864A1.029,1.029,0,0,0,345.194,32.2Z" transform="translate(-342.259 -32.058)" fill="#fff"/></g><g transform="translate(8.413 26.917)"><path d="M122.585,417.772a1.234,1.234,0,0,0-1.6.394l-1.174,1.864a1.029,1.029,0,0,0,.43,1.47,1.234,1.234,0,0,0,1.6-.394l1.174-1.864A1.029,1.029,0,0,0,122.585,417.772Z" transform="translate(-119.65 -417.628)" fill="#fff"/></g><g transform="translate(7.043 6.457)"><path d="M111.131,100.174c-6.041,0-10.957,4.506-10.957,10.043s4.915,10.043,10.957,10.043,10.957-4.506,10.957-10.043S117.172,100.174,111.131,100.174Zm0,17.935c-4.747,0-8.609-3.54-8.609-7.891s3.862-7.891,8.609-7.891,8.609,3.54,8.609,7.891S115.877,118.109,111.131,118.109Z" transform="translate(-100.174 -100.174)" fill="#fff"/></g><g transform="translate(11.739 10.761)"><path d="M173.218,166.957a6.024,6.024,0,0,0-6.261,5.739,1.178,1.178,0,0,0,2.348,0,3.765,3.765,0,0,1,3.913-3.587,1.08,1.08,0,1,0,0-2.152Z" transform="translate(-166.957 -166.957)" fill="#fff"/></g></svg>
      <svg v-else xmlns="http://www.w3.org/2000/svg" viewBox="0 0 34 30"><defs></defs><g transform="translate(11.46 4.113)"><path class="a" d="M168.191,72.635a.6.6,0,0,0-.431-.14h-2.368l2.211-2.571.207-.239.134-.169a.792.792,0,0,0,.09-.175.6.6,0,0,0,.039-.21.443.443,0,0,0-.207-.42,1.211,1.211,0,0,0-.588-.117H164.5a.588.588,0,0,0-.409.128.44.44,0,0,0-.146.344c0,.2.062.315.19.361a1.741,1.741,0,0,0,.56.07h1.791q-.112.163-.3.385l-.465.548-.6.7-.722.834c-.252.292-.414.49-.493.583a.564.564,0,0,0,.05.752.741.741,0,0,0,.526.175h3.269a.62.62,0,0,0,.437-.134.452.452,0,0,0,.146-.344A.476.476,0,0,0,168.191,72.635Z" transform="translate(-163.789 -68.592)"/></g><g transform="translate(17.324 7.856)"><path class="a" d="M251.072,123.187a.479.479,0,0,0-.347-.111h-1.881l1.763-2.052.168-.192.106-.134a.633.633,0,0,0,.073-.14.5.5,0,0,0,.034-.169.355.355,0,0,0-.162-.338.962.962,0,0,0-.47-.093h-2.194a.474.474,0,0,0-.325.1.351.351,0,0,0-.118.274c0,.157.05.251.151.292a1.357,1.357,0,0,0,.448.058h1.411c-.062.087-.14.187-.235.309l-.369.437-.481.583-.56.665q-.3.35-.4.478a.451.451,0,0,0,.039.583.587.587,0,0,0,.4.111h2.608a.5.5,0,0,0,.347-.1.363.363,0,0,0,.112-.274A.381.381,0,0,0,251.072,123.187Z" transform="translate(-247.596 -119.955)"/></g><g transform="translate(22.277 3.746)"><path class="a" d="M322.765,67.64a.6.6,0,0,0-.431-.14h-2.362l2.211-2.571.2-.262.134-.169a.805.805,0,0,0,.09-.175.6.6,0,0,0,.039-.21.443.443,0,0,0-.207-.42,1.217,1.217,0,0,0-.616-.134h-2.743a.588.588,0,0,0-.409.128.439.439,0,0,0-.145.344c0,.2.061.315.19.361a1.746,1.746,0,0,0,.56.07h1.791q-.112.163-.291.385l-.465.548-.6.7-.722.834c-.252.292-.414.49-.493.583a.571.571,0,0,0,.05.752.74.74,0,0,0,.515.157h3.269a.62.62,0,0,0,.437-.134.452.452,0,0,0,.146-.344A.474.474,0,0,0,322.765,67.64Z" transform="translate(-318.375 -63.557)"/></g><g transform="translate(0 0)"><path class="a" d="M24.264,30.24a.512.512,0,0,0-.45-.011h.006c-5.992,2.7-12.86-.4-15.338-6.927a13.825,13.825,0,0,1,.208-10.287.626.626,0,0,0-.263-.8.512.512,0,0,0-.45-.011C1.407,15.141-1.731,23.32.968,30.472S11.179,41.04,17.748,38.1a13.411,13.411,0,0,0,6.78-7.061A.626.626,0,0,0,24.264,30.24Z" transform="translate(0 -12.156)"/></g></svg>
  </button>
</template>

<script>
export default {
  data() {
    return {
      darkTheme: false
    }
  },
  methods: {
    toggleTheme() {
      this.darkTheme = !this.darkTheme
      // This is using a script that is added in index.html
      window.__setPreferredTheme(
        this.darkTheme ? 'dark' : 'light'
      )
    }
  },
  mounted() {
    if (window.__theme == 'dark') this.darkTheme = true
  }
}
</script>

<style lang="scss">
.toggle-theme {
  background-color: transparent;
  border: 0;
  color: currentColor;
  cursor: pointer;
   &:hover {
    opacity: .8
  }
  &:focus {
    outline: none;
  }
}

svg {
  width: 20px;
  padding-top: 5px;
}
</style>